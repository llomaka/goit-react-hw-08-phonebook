"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[509],{8107:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(1413),o=t(885),s=t(2791);function r(){var e=(0,s.useState)({open:!1,message:""}),n=(0,o.Z)(e,2),t=n[0],r=n[1];return{open:t.open,message:t.message,setMessage:function(e){return r((function(n){return{open:!0,message:e}}))},handleClose:function(e,n){"clickaway"!==n&&r((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},6509:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var a=t(885),o=t(2791);function s(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],s=n[1],r=(0,o.useState)(""),i=(0,a.Z)(r,2),d=i[0],l=i[1],c=(0,o.useId)(),u=(0,o.useState)(!1),m=(0,a.Z)(u,2),h=m[0],x=m[1];return{name:t,setName:s,number:d,setNumber:l,id:c,openModal:h,setOpenModal:x,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?s(a):"number"===t&&l(a)},resetForm:function(){s(""),l("")}}}var r=t(9860),i=t(4554),d=t(9218),l=t(5646),c=t(8107),u=t(2419),m=t(6400),h="ContactForm_form__dhl+T",x=t(3329);function p(){var e=s(),n=e.name,t=e.number,o=e.id,p=e.handleInputChange,Z=e.resetForm,g=(0,c.Z)(),f=g.open,j=g.message,b=g.setMessage,C=g.handleClose,v=(0,m.bC)().data,y=(0,m.wf)(),k=(0,a.Z)(y,2),w=k[0],P=k[1].isLoading,M=function(e){return e.preventDefault(),null!==v&&void 0!==v&&v.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?b("".concat(n," is already in Contacts List!")):""===n&&""===t?b("Please enter values into Name and Number fields!"):(w({name:n,number:t}),b("".concat(n," is successfully added to Contacts List!")),void Z())};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(i.Z,{component:"form",className:h,autoComplete:"on",onSubmit:M,sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:"10px",md:"20px"},alignItems:{xs:"normal",md:"flex-end"}},children:[(0,x.jsx)(d.Z,{autoFocus:!0,margin:"dense",id:o+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:p,value:n}),(0,x.jsx)(d.Z,{margin:"dense",id:o+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:p,value:t}),(0,x.jsx)(r.Z,{sx:{display:{xs:"none",md:"flex"}},startIcon:(0,x.jsx)(u.Z,{}),type:"submit",onClick:M,name:"submit_button",variant:"contained",loading:P,children:"Add contact"}),(0,x.jsx)(r.Z,{sx:{display:{xs:"block",md:"none"},lineHeight:"0"},type:"submit",onClick:M,name:"submit_button",variant:"contained",loading:P,children:(0,x.jsx)(u.Z,{})})]}),(0,x.jsx)(l.Z,{autoHideDuration:3e3,open:f,onClose:C,message:j})]})}var Z=t(5048),g=t(105),f=t(9281),j=t(703),b=t(9836),C=t(6890),v=t(5855),y=t(3382),k=t(3418),w=t(493),P=t(4852),M=t(9900),F=t(2199),N=t(4518),I=t(6088),S=t(7247),A=t(1286),_=t(4942),L=t(8745),z=t(618),D=t(6934),E=(0,D.ZP)(L.Z)((function(e){var n,t=e.theme;return n={},(0,_.Z)(n,"&.".concat(z.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,_.Z)(n,"&.".concat(z.Z.body),{fontSize:14}),n})),O=(0,D.ZP)(v.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),W=t(5289),q=t(5661),B=t(9157),H=t(7123);function J(e){var n=e.contactObj,t=e.openModal,i=e.setOpenModal,u=s(),h=u.name,p=u.setName,Z=u.number,g=u.setNumber,f=u.id,j=u.handleInputChange,b=u.resetForm,C=(0,c.Z)(),v=C.open,y=C.message,k=C.setMessage,w=C.handleClose,P=(0,m.zP)(),M=(0,a.Z)(P,2),F=M[0],I=M[1].isLoading;(0,o.useEffect)((function(){p(n.name),g(n.number)}),[n,p,g]);var S=function(e){return"edit"!==e.target.name?(i(!1),void b()):h.toLowerCase()===n.name.toLowerCase()&&Z===n.number?k("Please make changes to contact ".concat(h," information or press Cancel to exit Edit Contact dialog.")):(F({id:n.id,name:h,number:Z}),k("Contact ".concat(h," information is successfully changed!")),b(),void i(!1))};return(0,x.jsxs)(x.Fragment,{children:[h&&(0,x.jsxs)(W.Z,{open:t,onClose:S,children:[(0,x.jsx)(q.Z,{children:"Contact Information"}),(0,x.jsxs)(B.Z,{children:[(0,x.jsx)(d.Z,{autoFocus:!0,margin:"dense",id:f+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:j,value:h}),(0,x.jsx)(d.Z,{margin:"dense",id:f+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:j,value:Z})]}),(0,x.jsxs)(H.Z,{children:[(0,x.jsx)(r.Z,{startIcon:(0,x.jsx)(A.Z,{}),onClick:S,name:"edit",variant:"contained",loading:I,children:"Edit"}),(0,x.jsx)(N.Z,{onClick:S,variant:"contained",children:"Cancel"})]})]}),(0,x.jsx)(l.Z,{autoHideDuration:1e3,open:v,onClose:w,message:y})]})}var $=t(890);function R(e){var n=e.contact,t=e.handleEdit,o=e.handleDelete,s=(0,m.W1)(),i=(0,a.Z)(s,2)[1].isLoading;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(L.Z,{component:"th",scope:"row",children:(0,x.jsx)($.Z,{children:n.name})}),(0,x.jsx)(L.Z,{children:(0,x.jsx)($.Z,{children:n.number})}),(0,x.jsx)(L.Z,{align:"right",children:(0,x.jsxs)(F.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,x.jsx)(N.Z,{startIcon:(0,x.jsx)(A.Z,{}),onClick:function(){return t(n)},variant:"outlined",children:"Edit"}),(0,x.jsx)(r.Z,{startIcon:(0,x.jsx)(S.Z,{}),onClick:function(){return o(n.id,n.name)},variant:"contained",loading:i,children:"Delete"})]})})]})}function T(){var e=(0,o.useState)(0),n=(0,a.Z)(e,2),t=n[0],i=n[1],d=(0,o.useState)(10),u=(0,a.Z)(d,2),h=u[0],p=u[1],_=(0,o.useState)({}),L=(0,a.Z)(_,2),z=L[0],D=L[1],W=(0,Z.v9)(g.S),q=(0,m.bC)().data,B=void 0===q?[]:q,H=(0,o.useMemo)((function(){return B.filter((function(e){return e.name.toLowerCase().includes(W.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[B,W]),$=(0,c.Z)(),T=$.open,G=$.message,K=$.setMessage,Q=$.handleClose,U=s(),V=U.openModal,X=U.setOpenModal,Y=(0,m.W1)(),ee=(0,a.Z)(Y,2),ne=ee[0],te=ee[1].isLoading,ae=(0,Z.I0)();(0,o.useEffect)((function(){ae(m.ZP.util.resetApiState())}),[ae]);var oe=function(e){D(e),X(!0)},se=function(e,n){ne(e),K("Contact ".concat(n," is successfully deleted!"))},re=function(e,n){i(n)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f.Z,{component:j.Z,sx:{display:{xs:"none",md:"block"}},children:(0,x.jsxs)(b.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,x.jsx)(C.Z,{children:(0,x.jsxs)(v.Z,{children:[(0,x.jsx)(E,{children:"Full Name"}),(0,x.jsx)(E,{children:"Phone Number"}),(0,x.jsx)(E,{align:"right",children:"Edit/Delete Contact"})]})}),(0,x.jsx)(y.Z,{children:H.slice(t*h,t*h+h).map((function(e){return(0,x.jsx)(O,{children:(0,x.jsx)(R,{contact:e,handleEdit:oe,handleDelete:se})},e.id)}))})]})}),(0,x.jsx)(k.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:H.length,rowsPerPage:h,page:t,onPageChange:re,onRowsPerPageChange:function(e){p(parseInt(e.target.value,10)),i(0)},sx:{display:{xs:"none",md:"block"}}}),(0,x.jsx)(w.Z,{sx:{display:{xs:"block",md:"none"}},children:H.slice(t*h,t*h+h).map((function(e){return(0,x.jsxs)(P.ZP,{children:[(0,x.jsxs)(M.Z,{children:[e.name,": ",e.number]}),(0,x.jsxs)(F.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,x.jsx)(N.Z,{onClick:function(){return oe(e)},variant:"outlined",children:(0,x.jsx)(A.Z,{})}),(0,x.jsx)(r.Z,{onClick:function(){return se(e.id,e.name)},variant:"contained",loading:te,children:(0,x.jsx)(S.Z,{})})]})]},e.id)}))}),(0,x.jsx)(I.Z,{count:Math.round(H.length/10),page:t,onChange:re,sx:{display:{xs:"block",md:"none"}}}),(0,x.jsx)(l.Z,{autoHideDuration:1e3,open:T,onClose:Q,message:G}),(0,x.jsx)(J,{contactObj:z,openModal:V,setOpenModal:X})]})}var G=t(1634),K=t(5095),Q=t.n(K);function U(){var e=(0,Z.v9)(g.S),n=(0,Z.I0)(),t=Q()((function(e){return n((0,G.M)(e))}),400);return(0,x.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center",marginBottom:"15px"},children:[(0,x.jsx)($.Z,{children:"Find contact by name"}),(0,x.jsx)(d.Z,{variant:"standard",type:"text",name:"filter",onChange:function(e){t(e.target.value)},value:e})]})}function V(){return(0,x.jsxs)(i.Z,{children:[(0,x.jsx)($.Z,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,mt:2,children:"Phonebook contacts"}),(0,x.jsx)(p,{}),(0,x.jsx)(U,{}),(0,x.jsx)(T,{})]})}}}]);
//# sourceMappingURL=509.a87751d5.chunk.js.map