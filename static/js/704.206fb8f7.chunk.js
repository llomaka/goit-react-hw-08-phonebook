"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[704],{2835:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(2007),r=t.n(a),o="Header_text__4jGdp",s=t(3329);function i(e){var n=e.text;return(0,s.jsx)("h1",{className:o,children:n})}Notification.propTypes={text:r().string.isRequired}},8107:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),r=t(885),o=t(2791);function s(){var e=(0,o.useState)({open:!1,message:""}),n=(0,r.Z)(e,2),t=n[0],s=n[1];return{open:t.open,setOpen:function(){return s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!0})}))},message:t.message,setMessage:function(e){return s((function(n){return(0,a.Z)((0,a.Z)({},n),{},{message:e})}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},6704:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a=t(2791),r=t(5722),o=t(9434),s=t(2835),i=t(885);function c(){var e=(0,a.useState)(""),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=(0,a.useState)(""),s=(0,i.Z)(o,2),c=s[0],l=s[1],d=(0,a.useId)(),u=(0,a.useState)(!1),m=(0,i.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:r,number:c,setNumber:l,id:d,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?r(a):"number"===t&&l(a)},resetForm:function(){r(""),l("")}}}var l=t(9860),d=t(9218),u=t(5646),m=t(8107),h=t(2419),p="ContactForm_form__dhl+T",g=t(3329);function f(){var e=c(),n=e.name,t=e.number,a=e.id,s=e.handleInputChange,i=e.resetForm,f=(0,o.I0)(),Z=(0,o.v9)(r.lP.contacts),x=(0,o.v9)(r.lP.isCreating),j=(0,m.Z)(),C=j.open,b=j.message,v=j.setOpen,P=j.setMessage,_=j.handleClose,y=function(e){if(e.preventDefault(),null!==Z&&void 0!==Z&&Z.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return P("".concat(n," is already in Contacts List!")),v();f(r.mh.createContact({name:n,number:t})),P("".concat(n," is successfully added to Contacts List!")),v(),i()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:p,autoComplete:"on",onSubmit:y,children:[(0,g.jsx)(d.Z,{autoFocus:!0,margin:"dense",id:a+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:s,value:n}),(0,g.jsx)(d.Z,{margin:"dense",id:a+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:s,value:t}),(0,g.jsx)(l.Z,{startIcon:(0,g.jsx)(h.Z,{}),type:"submit",onClick:y,name:"submit_button",variant:"contained",loading:x,children:"Add contact"})]}),(0,g.jsx)(u.Z,{autoHideDuration:1e3,open:C,onClose:_,message:b})]})}var Z=t(105),x=t(1634),j=t(3628),C="Filter_header__6akjb",b="Filter_input__N7T3z";function v(){var e=(0,o.v9)(Z.S),n=(0,o.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h2",{className:C,children:"Find contact by name"}),(0,g.jsx)(j.DebounceInput,{element:"input",debounceTimeout:700,className:b,type:"text",name:"filter",onChange:function(e){return n((0,x.M)(e.target.value))},value:e})]})}var P=t(4942),_=t(1538),y=t(6934),F=t(9836),k=t(3382),w=t(8745),N=t(618),I=t(9281),M=t(6890),S=t(5855),A=t(4422),z=t(703),O=t(4518),D=t(5289),E=t(7123),L=t(9157),q=t(2116),H=t(1286);function J(e){var n=e.contactObj,t=e.openModal,s=e.setOpenModal,i=c(),h=i.name,p=i.setName,f=i.number,Z=i.setNumber,x=i.id,j=i.handleInputChange,C=i.resetForm,b=(0,m.Z)(),v=b.open,P=b.message,_=b.setOpen,y=b.setMessage,F=b.handleClose,k=(0,o.I0)(),w=(0,o.v9)(r.lP.isEditing);(0,a.useEffect)((function(){p(n.name),Z(n.number)}),[n,p,Z]);var N=function(e){return"edit"!==e.target.name?(s(!1),void C()):h.toLowerCase()===n.name.toLowerCase()&&f===n.number?(y("Please make changes to contact ".concat(h," information or press Cancel to exit Edit Contact dialog.")),_()):(k(r.mh.editContact({id:n.id,name:h,number:f})),y("Contact ".concat(h," information is successfully changed!")),_(),C(),void s(!1))};return(0,g.jsxs)(g.Fragment,{children:[h&&(0,g.jsxs)(D.Z,{open:t,onClose:N,children:[(0,g.jsx)(q.Z,{children:"Contact Information"}),(0,g.jsxs)(L.Z,{children:[(0,g.jsx)(d.Z,{autoFocus:!0,margin:"dense",id:x+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:j,value:h}),(0,g.jsx)(d.Z,{margin:"dense",id:x+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:j,value:f})]}),(0,g.jsxs)(E.Z,{children:[(0,g.jsx)(l.Z,{startIcon:(0,g.jsx)(H.Z,{}),onClick:N,name:"edit",variant:"contained",loading:w,children:"Edit"}),(0,g.jsx)(O.Z,{onClick:N,variant:"contained",children:"Cancel"})]})]}),(0,g.jsx)(u.Z,{autoHideDuration:1e3,open:v,onClose:F,message:P})]})}var T=t(2199),W=t(7247);function B(e){var n=e.contact,t=e.handleEdit,a=e.handleDelete,s=(0,o.v9)(r.lP.isDeleting);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(w.Z,{component:"th",scope:"row",children:n.name}),(0,g.jsx)(w.Z,{children:n.number}),(0,g.jsx)(w.Z,{align:"right",children:(0,g.jsxs)(T.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,g.jsx)(O.Z,{startIcon:(0,g.jsx)(H.Z,{}),onClick:function(){return t(n)},children:"Edit"}),(0,g.jsx)(l.Z,{startIcon:(0,g.jsx)(W.Z,{}),onClick:function(){return a(n.id,n.name)},variant:"contained",loading:s,children:"Delete"})]})})]})}var R=(0,y.ZP)(w.Z)((function(e){var n,t=e.theme;return n={},(0,P.Z)(n,"&.".concat(N.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,P.Z)(n,"&.".concat(N.Z.body),{fontSize:14}),n})),$=(0,y.ZP)(S.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function G(){var e=(0,a.useState)(0),n=(0,i.Z)(e,2),t=n[0],s=n[1],l=(0,a.useState)(10),d=(0,i.Z)(l,2),h=d[0],p=d[1],f=(0,a.useState)({}),x=(0,i.Z)(f,2),j=x[0],C=x[1],b=(0,o.v9)(Z.S),v=(0,o.v9)(r.lP.contacts),P=(0,a.useMemo)((function(){return v.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[v,b]),y=(0,o.I0)(),w=(0,m.Z)(),N=w.open,O=w.message,D=w.setOpen,E=w.setMessage,L=w.handleClose,q=c(),H=q.openModal,T=q.setOpenModal,W=function(e){C(e),T(!0)},G=function(e,n){y(r.mh.deleteContact(e)),y((0,_.fu)(e)),E("Contact ".concat(n," is successfully deleted!")),D()};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(I.Z,{component:z.Z,children:(0,g.jsxs)(F.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,g.jsx)(M.Z,{children:(0,g.jsxs)(S.Z,{children:[(0,g.jsx)(R,{children:"Full Name"}),(0,g.jsx)(R,{children:"Phone Number"}),(0,g.jsx)(R,{align:"right",children:"Edit/Delete contact"})]})}),(0,g.jsx)(k.Z,{children:P.slice(t*h,t*h+h).map((function(e){return(0,g.jsx)($,{children:(0,g.jsx)(B,{contact:e,handleEdit:W,handleDelete:G})},e.id)}))})]})}),(0,g.jsx)(A.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:P.length,rowsPerPage:h,page:t,onPageChange:function(e,n){s(n)},onRowsPerPageChange:function(e){p(parseInt(e.target.value,10)),s(0)}}),(0,g.jsx)(u.Z,{autoHideDuration:1e3,open:N,onClose:L,message:O}),(0,g.jsx)(J,{contactObj:j,openModal:H,setOpenModal:T})]})}function K(){var e=(0,o.I0)();return(0,a.useEffect)((function(){e(r.mh.getAllContacts())})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.Z,{text:"Phonebook contacts"}),(0,g.jsx)(f,{}),(0,g.jsx)(v,{}),(0,g.jsx)(G,{})]})}}}]);
//# sourceMappingURL=704.206fb8f7.chunk.js.map