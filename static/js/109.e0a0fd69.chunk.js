"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[109],{8107:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),o=t(885),r=t(2791);function s(){var e=(0,r.useState)({open:!1,message:""}),n=(0,o.Z)(e,2),t=n[0],s=n[1];return{open:t.open,setOpen:function(){return s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!0})}))},message:t.message,setMessage:function(e){return s((function(n){return(0,a.Z)((0,a.Z)({},n),{},{message:e})}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},6109:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(885),o=t(2791);function r(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,o.useState)(""),i=(0,a.Z)(s,2),c=i[0],l=i[1],d=(0,o.useId)(),u=(0,o.useState)(!1),m=(0,a.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:r,number:c,setNumber:l,id:d,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?r(a):"number"===t&&l(a)},resetForm:function(){r(""),l("")}}}var s=t(9860),i=t(9218),c=t(5646),l=t(8107),d=t(2419),u=t(6400),m="ContactForm_form__dhl+T",h=t(3329);function p(){var e=r(),n=e.name,t=e.number,o=e.id,p=e.handleInputChange,Z=e.resetForm,g=(0,l.Z)(),f=g.open,x=g.message,j=g.setOpen,b=g.setMessage,C=g.handleClose,v=(0,u.bC)().data,y=(0,u.wf)(),w=(0,a.Z)(y,2),F=w[0],P=w[1].isLoading,k=function(e){if(e.preventDefault(),null!==v&&void 0!==v&&v.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return b("".concat(n," is already in Contacts List!")),j();F({name:n,number:t}),b("".concat(n," is successfully added to Contacts List!")),j(),Z()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{className:m,autoComplete:"on",onSubmit:k,children:[(0,h.jsx)(i.Z,{autoFocus:!0,margin:"dense",id:o+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:p,value:n}),(0,h.jsx)(i.Z,{margin:"dense",id:o+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:p,value:t}),(0,h.jsx)(s.Z,{startIcon:(0,h.jsx)(d.Z,{}),type:"submit",onClick:k,name:"submit_button",variant:"contained",loading:P,children:"Add contact"})]}),(0,h.jsx)(c.Z,{autoHideDuration:1e3,open:f,onClose:C,message:x})]})}var Z=t(5048),g=t(105),f=t(9836),x=t(3382),j=t(9281),b=t(6890),C=t(5855),v=t(6812),y=t(4942),w=t(8745),F=t(618),P=t(6934),k=(0,P.ZP)(w.Z)((function(e){var n,t=e.theme;return n={},(0,y.Z)(n,"&.".concat(F.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,y.Z)(n,"&.".concat(F.Z.body),{fontSize:14}),n})),M=(0,P.ZP)(C.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),N=t(703),_=t(4518),S=t(5289),A=t(7123),I=t(9157),z=t(5661),L=t(1286);function O(e){var n=e.contactObj,t=e.openModal,d=e.setOpenModal,m=r(),p=m.name,Z=m.setName,g=m.number,f=m.setNumber,x=m.id,j=m.handleInputChange,b=m.resetForm,C=(0,l.Z)(),v=C.open,y=C.message,w=C.setOpen,F=C.setMessage,P=C.handleClose,k=(0,u.zP)(),M=(0,a.Z)(k,2),N=M[0],O=M[1].isLoading;(0,o.useEffect)((function(){Z(n.name),f(n.number)}),[n,Z,f]);var D=function(e){return"edit"!==e.target.name?(d(!1),void b()):p.toLowerCase()===n.name.toLowerCase()&&g===n.number?(F("Please make changes to contact ".concat(p," information or press Cancel to exit Edit Contact dialog.")),w()):(N({id:n.id,name:p,number:g}),F("Contact ".concat(p," information is successfully changed!")),w(),b(),void d(!1))};return(0,h.jsxs)(h.Fragment,{children:[p&&(0,h.jsxs)(S.Z,{open:t,onClose:D,children:[(0,h.jsx)(z.Z,{children:"Contact Information"}),(0,h.jsxs)(I.Z,{children:[(0,h.jsx)(i.Z,{autoFocus:!0,margin:"dense",id:x+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:j,value:p}),(0,h.jsx)(i.Z,{margin:"dense",id:x+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:j,value:g})]}),(0,h.jsxs)(A.Z,{children:[(0,h.jsx)(s.Z,{startIcon:(0,h.jsx)(L.Z,{}),onClick:D,name:"edit",variant:"contained",loading:O,children:"Edit"}),(0,h.jsx)(_.Z,{onClick:D,variant:"contained",children:"Cancel"})]})]}),(0,h.jsx)(c.Z,{autoHideDuration:1e3,open:v,onClose:P,message:y})]})}var D=t(2199),E=t(7247),W=t(890);function q(e){var n=e.contact,t=e.handleEdit,o=e.handleDelete,r=(0,u.W1)(),i=(0,a.Z)(r,2)[1].isLoading;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.Z,{component:"th",scope:"row",children:(0,h.jsx)(W.Z,{children:n.name})}),(0,h.jsx)(w.Z,{children:(0,h.jsx)(W.Z,{children:n.number})}),(0,h.jsx)(w.Z,{align:"right",children:(0,h.jsxs)(D.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,h.jsx)(_.Z,{startIcon:(0,h.jsx)(L.Z,{}),onClick:function(){return t(n)},variant:"outlined",children:"Edit"}),(0,h.jsx)(s.Z,{startIcon:(0,h.jsx)(E.Z,{}),onClick:function(){return o(n.id,n.name)},variant:"contained",loading:i,children:"Delete"})]})})]})}function B(){var e=(0,o.useState)(0),n=(0,a.Z)(e,2),t=n[0],s=n[1],i=(0,o.useState)(10),d=(0,a.Z)(i,2),m=d[0],p=d[1],y=(0,o.useState)({}),w=(0,a.Z)(y,2),F=w[0],P=w[1],_=(0,Z.v9)(g.S),S=(0,u.bC)().data,A=void 0===S?[]:S,I=(0,o.useMemo)((function(){return A.filter((function(e){return e.name.toLowerCase().includes(_.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[A,_]),z=(0,l.Z)(),L=z.open,D=z.message,E=z.setOpen,W=z.setMessage,B=z.handleClose,J=r(),H=J.openModal,T=J.setOpenModal,$=(0,u.W1)(),R=(0,a.Z)($,1)[0],G=(0,Z.I0)();(0,o.useEffect)((function(){G(u.ZP.util.resetApiState())}),[G]);var K=function(e){P(e),T(!0)},Q=function(e,n){R(e),W("Contact ".concat(n," is successfully deleted!")),E()};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.Z,{component:N.Z,children:(0,h.jsxs)(f.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,h.jsx)(b.Z,{children:(0,h.jsxs)(C.Z,{children:[(0,h.jsx)(k,{children:"Full Name"}),(0,h.jsx)(k,{children:"Phone Number"}),(0,h.jsx)(k,{align:"right",children:"Edit/Delete Contact"})]})}),(0,h.jsx)(x.Z,{children:I.slice(t*m,t*m+m).map((function(e){return(0,h.jsx)(M,{children:(0,h.jsx)(q,{contact:e,handleEdit:K,handleDelete:Q})},e.id)}))})]})}),(0,h.jsx)(v.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:I.length,rowsPerPage:m,page:t,onPageChange:function(e,n){s(n)},onRowsPerPageChange:function(e){p(parseInt(e.target.value,10)),s(0)}}),(0,h.jsx)(c.Z,{autoHideDuration:1e3,open:L,onClose:B,message:D}),(0,h.jsx)(O,{contactObj:F,openModal:H,setOpenModal:T})]})}var J=t(1634),H=t(4554),T=t(3628),$="Filter_input__N7T3z";function R(){var e=(0,Z.v9)(g.S),n=(0,Z.I0)();return(0,h.jsxs)(H.Z,{sx:{display:"flex",justifyContent:"center",gap:"10px",textAlign:"center",marginBottom:"15px"},children:[(0,h.jsx)(W.Z,{variant:"h6",component:"h2",children:"Find contact by name"}),(0,h.jsx)(T.DebounceInput,{element:"input",debounceTimeout:700,className:$,type:"text",name:"filter",onChange:function(e){return n((0,J.M)(e.target.value))},value:e})]})}function G(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(W.Z,{variant:"h3",component:"h1",align:"center",gutterBottom:!0,mt:2,children:"Phonebook contacts"}),(0,h.jsx)(p,{}),(0,h.jsx)(R,{}),(0,h.jsx)(B,{})]})}}}]);
//# sourceMappingURL=109.e0a0fd69.chunk.js.map