"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[441],{8107:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(1413),o=t(885),s=t(2791);function r(){var e=(0,s.useState)({open:!1,message:""}),n=(0,o.Z)(e,2),t=n[0],r=n[1];return{open:t.open,message:t.message,setMessage:function(e){return r((function(n){return{open:!0,message:e}}))},handleClose:function(e,n){"clickaway"!==n&&r((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},6441:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var a=t(885),o=t(2791);function s(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],s=n[1],r=(0,o.useState)(""),i=(0,a.Z)(r,2),l=i[0],d=i[1],c=(0,o.useId)(),u=(0,o.useState)(!1),m=(0,a.Z)(u,2),h=m[0],x=m[1];return{name:t,setName:s,number:l,setNumber:d,id:c,openModal:h,setOpenModal:x,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?s(a):"number"===t&&d(a)},resetForm:function(){s(""),d("")}}}var r=t(9860),i=t(4554),l=t(9218),d=t(5646),c=t(8107),u=t(2419),m=t(6400),h=t(3329);function x(){var e=s(),n=e.name,t=e.number,o=e.id,x=e.handleInputChange,p=e.resetForm,Z=(0,c.Z)(),g=Z.open,f=Z.message,j=Z.setMessage,b=Z.handleClose,C=(0,m.bC)().data,v=(0,m.wf)(),y=(0,a.Z)(v,2),k=y[0],w=y[1].isLoading,P=function(e){return e.preventDefault(),null!==C&&void 0!==C&&C.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?j("".concat(n," is already in Contacts List!")):""===n&&""===t?j("Please enter values into Name and Number fields!"):(k({name:n,number:t}),j("".concat(n," is successfully added to Contacts List!")),void p())};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.Z,{component:"form",autoComplete:"on",onSubmit:P,sx:{display:"flex",justifyContent:"center",flexDirection:{xs:"column",md:"row"},gap:{xs:"10px",md:"20px"},alignItems:{xs:"normal",md:"flex-end"},marginBottom:"30px"},children:[(0,h.jsx)(l.Z,{autoFocus:!0,margin:"dense",id:o+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:x,value:n}),(0,h.jsx)(l.Z,{margin:"dense",id:o+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:x,value:t}),(0,h.jsx)(r.Z,{sx:{display:{xs:"none",md:"flex"}},startIcon:(0,h.jsx)(u.Z,{}),type:"submit",onClick:P,name:"submit_button",variant:"contained",loading:w,children:"Add contact"}),(0,h.jsx)(r.Z,{sx:{display:{xs:"block",md:"none"},lineHeight:"0"},type:"submit",onClick:P,name:"submit_button",variant:"contained",loading:w,children:(0,h.jsx)(u.Z,{})})]}),(0,h.jsx)(d.Z,{autoHideDuration:3e3,open:g,onClose:b,message:f})]})}var p=t(5048),Z=t(105),g=t(9281),f=t(703),j=t(9836),b=t(6890),C=t(5855),v=t(3382),y=t(3418),k=t(493),w=t(4852),P=t(9900),M=t(2199),F=t(4518),I=t(6088),N=t(7247),S=t(1286),A=t(4942),L=t(8745),z=t(618),_=t(6934),D=(0,_.ZP)(L.Z)((function(e){var n,t=e.theme;return n={},(0,A.Z)(n,"&.".concat(z.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,A.Z)(n,"&.".concat(z.Z.body),{fontSize:14}),n})),E=(0,_.ZP)(C.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),O=t(5289),B=t(5661),W=t(9157),q=t(7123);function H(e){var n=e.contactObj,t=e.openModal,i=e.setOpenModal,u=s(),x=u.name,p=u.setName,Z=u.number,g=u.setNumber,f=u.id,j=u.handleInputChange,b=u.resetForm,C=(0,c.Z)(),v=C.open,y=C.message,k=C.setMessage,w=C.handleClose,P=(0,m.zP)(),M=(0,a.Z)(P,2),I=M[0],N=M[1].isLoading;(0,o.useEffect)((function(){p(n.name),g(n.number)}),[n,p,g]);var A=function(e){return"edit"!==e.target.name?(i(!1),void b()):x.toLowerCase()===n.name.toLowerCase()&&Z===n.number?k("Please make changes to contact ".concat(x," information or press Cancel to exit Edit Contact dialog.")):(I({id:n.id,name:x,number:Z}),k("Contact ".concat(x," information is successfully changed!")),b(),void i(!1))};return(0,h.jsxs)(h.Fragment,{children:[x&&(0,h.jsxs)(O.Z,{open:t,onClose:A,children:[(0,h.jsx)(B.Z,{children:"Contact Information"}),(0,h.jsxs)(W.Z,{children:[(0,h.jsx)(l.Z,{autoFocus:!0,margin:"dense",id:f+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:j,value:x}),(0,h.jsx)(l.Z,{margin:"dense",id:f+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:j,value:Z})]}),(0,h.jsxs)(q.Z,{children:[(0,h.jsx)(r.Z,{startIcon:(0,h.jsx)(S.Z,{}),onClick:A,name:"edit",variant:"contained",loading:N,children:"Edit"}),(0,h.jsx)(F.Z,{onClick:A,variant:"contained",children:"Cancel"})]})]}),(0,h.jsx)(d.Z,{autoHideDuration:1e3,open:v,onClose:w,message:y})]})}var J=t(890);function $(e){var n=e.contact,t=e.handleEdit,o=e.handleDelete,s=(0,m.W1)(),i=(0,a.Z)(s,2)[1].isLoading;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(L.Z,{component:"th",scope:"row",children:(0,h.jsx)(J.Z,{children:n.name})}),(0,h.jsx)(L.Z,{children:(0,h.jsx)(J.Z,{children:n.number})}),(0,h.jsx)(L.Z,{align:"right",children:(0,h.jsxs)(M.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,h.jsx)(F.Z,{startIcon:(0,h.jsx)(S.Z,{}),onClick:function(){return t(n)},variant:"outlined",children:"Edit"}),(0,h.jsx)(r.Z,{startIcon:(0,h.jsx)(N.Z,{}),onClick:function(){return o(n.id,n.name)},variant:"contained",loading:i,children:"Delete"})]})})]})}function R(){var e=(0,o.useState)(0),n=(0,a.Z)(e,2),t=n[0],l=n[1],u=(0,o.useState)(10),x=(0,a.Z)(u,2),A=x[0],L=x[1],z=(0,o.useState)({}),_=(0,a.Z)(z,2),O=_[0],B=_[1],W=(0,p.v9)(Z.S),q=(0,m.bC)().data,J=void 0===q?[]:q,R=(0,o.useMemo)((function(){return J.filter((function(e){return e.name.toLowerCase().includes(W.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[J,W]),G=(0,c.Z)(),K=G.open,Q=G.message,T=G.setMessage,U=G.handleClose,V=s(),X=V.openModal,Y=V.setOpenModal,ee=(0,m.W1)(),ne=(0,a.Z)(ee,2),te=ne[0],ae=ne[1].isLoading,oe=(0,p.I0)();(0,o.useEffect)((function(){oe(m.ZP.util.resetApiState())}),[oe]);var se=function(e){B(e),Y(!0)},re=function(e,n){te(e),T("Contact ".concat(n," is successfully deleted!"))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g.Z,{component:f.Z,sx:{display:{xs:"none",md:"block"}},children:(0,h.jsxs)(j.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,h.jsx)(b.Z,{children:(0,h.jsxs)(C.Z,{children:[(0,h.jsx)(D,{children:"Full Name"}),(0,h.jsx)(D,{children:"Phone Number"}),(0,h.jsx)(D,{align:"right",children:"Edit/Delete Contact"})]})}),(0,h.jsx)(v.Z,{children:R.slice(t*A,t*A+A).map((function(e){return(0,h.jsx)(E,{children:(0,h.jsx)($,{contact:e,handleEdit:se,handleDelete:re})},e.id)}))})]})}),(0,h.jsx)(y.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:R.length,rowsPerPage:A,page:t,onPageChange:function(e,n){l(n)},onRowsPerPageChange:function(e){L(parseInt(e.target.value,10)),l(0)},sx:{display:{xs:"none",md:"block"}}}),(0,h.jsx)(k.Z,{sx:{display:{xs:"block",md:"none"}},children:R.slice(10*t,10*t+10).map((function(e){return(0,h.jsxs)(w.ZP,{children:[(0,h.jsxs)(P.Z,{children:[e.name,": ",e.number]}),(0,h.jsxs)(M.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,h.jsx)(F.Z,{onClick:function(){return se(e)},variant:"outlined",children:(0,h.jsx)(S.Z,{})}),(0,h.jsx)(r.Z,{onClick:function(){return re(e.id,e.name)},variant:"contained",loading:ae,children:(0,h.jsx)(N.Z,{})})]})]},e.id)}))}),(0,h.jsx)(i.Z,{my:2,sx:{display:{xs:"flex",md:"none"},justifyContent:"center"},children:(0,h.jsx)(I.Z,{count:Math.ceil(R.length/10),page:t-1,onChange:function(e,n){l(n-1)}})}),(0,h.jsx)(d.Z,{autoHideDuration:1e3,open:K,onClose:U,message:Q}),(0,h.jsx)(H,{contactObj:O,openModal:X,setOpenModal:Y})]})}var G=t(1634),K=t(5095),Q=t.n(K);function T(){var e=(0,p.v9)(Z.S),n=(0,p.I0)(),t=Q()((function(e){return n((0,G.M)(e))}),350);return(0,h.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center",marginBottom:"15px"},children:[(0,h.jsx)(J.Z,{children:"Find contact by name"}),(0,h.jsx)(l.Z,{variant:"standard",type:"text",name:"filter",onChange:function(e){t(e.target.value)},value:e})]})}function U(){return(0,h.jsxs)(i.Z,{children:[(0,h.jsx)(J.Z,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,mt:2,children:"Phonebook Contacts"}),(0,h.jsx)(x,{}),(0,h.jsx)(T,{}),(0,h.jsx)(R,{})]})}}}]);
//# sourceMappingURL=441.996dad02.chunk.js.map