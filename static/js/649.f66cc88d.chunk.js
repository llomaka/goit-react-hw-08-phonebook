"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[649],{2835:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(2007),s=t.n(a),o="Header_text__4jGdp",r=t(3329);function c(e){var n=e.text;return(0,r.jsx)("h1",{className:o,children:n})}Notification.propTypes={text:s().string.isRequired}},6649:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a=t(2791),s=t(5722),o=t(9434),r=t(2835),c=t(885);function i(){var e=(0,a.useState)(""),n=(0,c.Z)(e,2),t=n[0],s=n[1],o=(0,a.useState)(""),r=(0,c.Z)(o,2),i=r[0],l=r[1],d=(0,a.useId)(),u=(0,a.useState)(!1),m=(0,c.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:s,number:i,setNumber:l,id:d,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?s(a):"number"===t&&l(a)},resetForm:function(){s(""),l("")}}}var l=t(5646),d=t(1413);function u(){var e=(0,a.useState)({open:!1,message:""}),n=(0,c.Z)(e,2),t=n[0],s=n[1];return{open:t.open,setOpen:function(){return s((function(e){return(0,d.Z)((0,d.Z)({},e),{},{open:!0})}))},message:t.message,setMessage:function(e){return s((function(n){return(0,d.Z)((0,d.Z)({},n),{},{message:e})}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,d.Z)((0,d.Z)({},e),{},{open:!1})}))}}}var m="ContactForm_form__dhl+T",h="ContactForm_fields__wtPPu",p="ContactForm_label__-cVXI",f="ContactForm_input__Bl93P",x="ContactForm_button__eSwX9",g=t(3329);function C(){var e=i(),n=e.name,t=e.number,a=e.id,r=e.handleInputChange,c=e.resetForm,d=(0,o.I0)(),C=(0,o.v9)(s.lP.contacts),Z=u(),b=Z.open,j=Z.message,v=Z.setOpen,_=Z.setMessage,N=Z.handleClose;return(0,g.jsxs)("form",{className:m,autoComplete:"on",onSubmit:function(e){if(e.preventDefault(),null!==C&&void 0!==C&&C.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return _("".concat(n," is already in Contacts List!")),v();d(s.mh.createContact({name:n,number:t})),_("".concat(n," is successfully added to Contacts List!")),v(),c()},children:[(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("label",{className:p,htmlFor:a+"name",children:"Name *"}),(0,g.jsx)("input",{className:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:a+"name",placeholder:"John Smith",onChange:r,value:n})]}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("label",{className:p,htmlFor:a+"number",children:"Phone *"}),(0,g.jsx)("input",{className:f,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,id:a+"number",placeholder:"050-123-23-23",onChange:r,value:t})]}),(0,g.jsx)("button",{className:x,type:"submit",name:"submit_button",children:(0,g.jsx)("span",{children:"Add contact"})}),(0,g.jsx)(l.Z,{autoHideDuration:1e3,open:b,onClose:N,message:j})]})}var Z=t(105),b=t(1634),j=t(3628),v="Filter_header__6akjb",_="Filter_input__N7T3z";function N(){var e=(0,o.v9)(Z.S),n=(0,o.I0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h2",{className:v,children:"Find contact by name"}),(0,g.jsx)(j.DebounceInput,{element:"input",debounceTimeout:700,className:_,type:"text",name:"filter",onChange:function(e){return n((0,b.M)(e.target.value))},value:e})]})}var F=t(4942),P=t(1538),w=t(6934),y=t(9836),k=t(3382),M=t(8745),I=t(618),S=t(9281),A=t(6890),z=t(5855),O=t(4422),L=t(703),D=t(4518),E=t(2199),q=t(7247),H=t(1286),J=t(9218),T=t(5289),B=t(7123),W=t(9157),R=t(2116);function X(e){var n=e.contactObj,t=e.openModal,r=e.setOpenModal,c=i(),d=c.name,m=c.setName,h=c.number,p=c.setNumber,f=c.id,x=c.handleInputChange,C=c.resetForm,Z=u(),b=Z.open,j=Z.message,v=Z.setOpen,_=Z.setMessage,N=Z.handleClose,F=(0,o.I0)();(0,a.useEffect)((function(){m(n.name),p(n.number)}),[n,m,p]);var P=function(e){return"edit"!==e.target.name?(r(!1),void C()):d.toLowerCase()===n.name.toLowerCase()&&h===n.number?(_("Please make changes to contact ".concat(d," information or press Cancel to exit Edit Contact dialog.")),v()):(F(s.mh.editContact({id:n.id,name:d,number:h})),_("Contact ".concat(d," information is successfully changed!")),v(),C(),void r(!1))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(T.Z,{open:t,onClose:P,children:[(0,g.jsx)(R.Z,{children:"Contact Information"}),(0,g.jsxs)(W.Z,{children:[(0,g.jsx)(J.Z,{autoFocus:!0,margin:"dense",id:f+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:x,value:d}),(0,g.jsx)(J.Z,{margin:"dense",id:f+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:x,value:h})]}),(0,g.jsxs)(B.Z,{children:[(0,g.jsx)(D.Z,{onClick:P,name:"edit",children:"Edit"}),(0,g.jsx)(D.Z,{onClick:P,children:"Cancel"})]})]}),(0,g.jsx)(l.Z,{autoHideDuration:1e3,open:b,onClose:N,message:j})]})}var $=(0,w.ZP)(M.Z)((function(e){var n,t=e.theme;return n={},(0,F.Z)(n,"&.".concat(I.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,F.Z)(n,"&.".concat(I.Z.body),{fontSize:14}),n})),G=(0,w.ZP)(z.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function V(){var e=(0,a.useState)(0),n=(0,c.Z)(e,2),t=n[0],r=n[1],d=(0,a.useState)(10),m=(0,c.Z)(d,2),h=m[0],p=m[1],f=(0,a.useState)({}),x=(0,c.Z)(f,2),C=x[0],b=x[1],j=(0,o.v9)(Z.S),v=(0,o.v9)(s.lP.contacts),_=(0,a.useMemo)((function(){return v.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[v,j]),N=(0,o.I0)(),F=u(),w=F.open,I=F.message,J=F.setOpen,T=F.setMessage,B=F.handleClose,W=i(),R=W.openModal,V=W.setOpenModal;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S.Z,{component:L.Z,children:(0,g.jsxs)(y.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,g.jsx)(A.Z,{children:(0,g.jsxs)(z.Z,{children:[(0,g.jsx)($,{children:"Full Name"}),(0,g.jsx)($,{children:"Phone Number"}),(0,g.jsx)($,{align:"right",children:"Edit/Delete contact"})]})}),(0,g.jsx)(k.Z,{children:_.slice(t*h,t*h+h).map((function(e){return(0,g.jsxs)(G,{children:[(0,g.jsx)(M.Z,{component:"th",scope:"row",children:e.name}),(0,g.jsx)(M.Z,{children:e.number}),(0,g.jsx)(M.Z,{align:"right",children:(0,g.jsxs)(E.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,g.jsx)(D.Z,{startIcon:(0,g.jsx)(H.Z,{}),onClick:function(){return function(e){b(e),V(!0)}(e)},children:"Edit"}),(0,g.jsx)(D.Z,{startIcon:(0,g.jsx)(q.Z,{}),onClick:function(){return n=e.id,t=e.name,N(s.mh.deleteContact(n)),N((0,P.fu)(n)),T("Contact ".concat(t," is successfully deleted!")),void J();var n,t},children:"Delete"})]})})]},e.id)}))})]})}),(0,g.jsx)(O.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:_.length,rowsPerPage:h,page:t,onPageChange:function(e,n){r(n)},onRowsPerPageChange:function(e){p(parseInt(e.target.value,10)),r(0)}}),(0,g.jsx)(l.Z,{autoHideDuration:1e3,open:w,onClose:B,message:I}),(0,g.jsx)(X,{contactObj:C,openModal:R,setOpenModal:V})]})}function K(){var e=(0,o.I0)();return(0,a.useEffect)((function(){e(s.mh.getAllContacts())})),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.Z,{text:"Phonebook contacts"}),(0,g.jsx)(C,{}),(0,g.jsx)(N,{}),(0,g.jsx)(V,{})]})}}}]);
//# sourceMappingURL=649.f66cc88d.chunk.js.map