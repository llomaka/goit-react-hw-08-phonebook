"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[649],{2835:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(2007),s=t.n(a),r="Header_text__4jGdp",o=t(3329);function c(e){var n=e.text;return(0,o.jsx)("h1",{className:r,children:n})}Notification.propTypes={text:s().string.isRequired}},6649:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var a=t(2791),s=t(5722),r=t(9434),o=t(2835),c=t(885);function l(){var e=(0,a.useState)(""),n=(0,c.Z)(e,2),t=n[0],s=n[1],r=(0,a.useState)(""),o=(0,c.Z)(r,2),l=o[0],i=o[1],d=(0,a.useId)(),u=(0,a.useState)(!1),m=(0,c.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:s,number:l,setNumber:i,id:d,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?s(a):"number"===t&&i(a)},resetForm:function(){s(""),i("")}}}var i=t(5646),d=t(1413);function u(){var e=(0,a.useState)({open:!1,message:""}),n=(0,c.Z)(e,2),t=n[0],s=n[1];return{open:t.open,setOpen:function(){return s((function(e){return(0,d.Z)((0,d.Z)({},e),{},{open:!0})}))},message:t.message,setMessage:function(e){return s((function(n){return(0,d.Z)((0,d.Z)({},n),{},{message:e})}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,d.Z)((0,d.Z)({},e),{},{open:!1})}))}}}var m="ContactForm_form__dhl+T",h="ContactForm_fields__wtPPu",p="ContactForm_label__-cVXI",f="ContactForm_input__Bl93P",x="ContactForm_button__eSwX9",j=t(3329);function Z(){var e=l(),n=e.name,t=e.number,a=e.id,o=e.handleInputChange,c=e.resetForm,d=(0,r.I0)(),Z=(0,r.v9)(s.lP.contacts),b=u(),g=b.open,C=b.message,v=b.setOpen,_=b.setMessage,N=b.handleClose;return(0,j.jsxs)("form",{className:m,autoComplete:"on",onSubmit:function(e){if(e.preventDefault(),null!==Z&&void 0!==Z&&Z.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return _("".concat(n," is already in Contacts List!")),v();d(s.mh.createContact({name:n,number:t})),_("".concat(n," is successfully added to Contacts List!")),v(),c()},children:[(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("label",{className:p,htmlFor:a+"name",children:"Name *"}),(0,j.jsx)("input",{className:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,id:a+"name",placeholder:"John Smith",onChange:o,value:n})]}),(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("label",{className:p,htmlFor:a+"number",children:"Phone *"}),(0,j.jsx)("input",{className:f,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,id:a+"number",placeholder:"050-123-23-23",onChange:o,value:t})]}),(0,j.jsx)("button",{className:x,type:"submit",name:"submit_button",children:(0,j.jsx)("span",{children:"Add contact"})}),(0,j.jsx)(i.Z,{autoHideDuration:1e3,open:g,onClose:N,message:C})]})}var b=t(105),g=t(1634),C=t(3628),v="Filter_header__6akjb",_="Filter_input__N7T3z";function N(){var e=(0,r.v9)(b.S),n=(0,r.I0)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{className:v,children:"Find contact by name"}),(0,j.jsx)(C.DebounceInput,{element:"input",debounceTimeout:700,className:_,type:"text",name:"filter",onChange:function(e){return n((0,g.M)(e.target.value))},value:e})]})}var F=t(4942),P=t(1538),y=t(5255),w=t(9836),k=t(3382),M=t(8745),I=t(618),S=t(9281),A=t(6890),z=t(5855),O=t(4422),D=t(703),L=t(4518),q=t(2199),E=t(7247),J=t(1286),T=t(9218),B=t(5289),H=t(7123),W=t(9157),R=t(2116);function X(e){var n=e.contactObj,t=e.openModal,s=(e.handleModalClose,e.setOpenModal),r=l(),o=r.name,c=r.setName,i=r.number,d=r.setNumber,u=r.id,m=r.handleInputChange;(0,a.useEffect)((function(){c(n.name),d(n.number)}),[n,c,d]);var h=function(){s(!1)};return(0,j.jsx)("div",{children:(0,j.jsxs)(B.Z,{open:t,onClose:h,children:[(0,j.jsx)(R.Z,{children:"Contact Information"}),(0,j.jsxs)(W.Z,{children:[(0,j.jsx)(T.Z,{autoFocus:!0,margin:"dense",id:u+"name",label:"Full Name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:m,value:o}),(0,j.jsx)(T.Z,{margin:"dense",id:u+"number",label:"Phone Number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:m,value:i})]}),(0,j.jsxs)(H.Z,{children:[(0,j.jsx)(L.Z,{onClick:h,children:"Edit"}),(0,j.jsx)(L.Z,{onClick:h,children:"Cancel"})]})]})})}var $=(0,y.ZP)(M.Z)((function(e){var n,t=e.theme;return n={},(0,F.Z)(n,"&.".concat(I.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,F.Z)(n,"&.".concat(I.Z.body),{fontSize:14}),n})),G=(0,y.ZP)(z.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function V(){var e=(0,a.useState)(0),n=(0,c.Z)(e,2),t=n[0],o=n[1],d=(0,a.useState)(10),m=(0,c.Z)(d,2),h=m[0],p=m[1],f=(0,r.v9)(b.S),x=(0,r.v9)(s.lP.contacts),Z=(0,a.useMemo)((function(){return x.filter((function(e){return e.name.toLowerCase().includes(f.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[x,f]),g=(0,r.I0)(),C=u(),v=C.open,_=C.message,N=C.setOpen,F=C.setMessage,y=C.handleClose,I=l(),T=I.openModal,B=I.setOpenModal;function H(){B(!1)}return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.Z,{component:D.Z,children:(0,j.jsxs)(w.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,j.jsx)(A.Z,{children:(0,j.jsxs)(z.Z,{children:[(0,j.jsx)($,{children:"Full Name"}),(0,j.jsx)($,{children:"Phone Number"}),(0,j.jsx)($,{align:"right",children:"Edit/Delete contact"})]})}),(0,j.jsx)(k.Z,{children:Z.slice(t*h,t*h+h).map((function(e){return(0,j.jsxs)(G,{children:[(0,j.jsx)(M.Z,{component:"th",scope:"row",children:e.name}),(0,j.jsx)(M.Z,{children:e.number}),(0,j.jsxs)(M.Z,{align:"right",children:[(0,j.jsxs)(q.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,j.jsx)(L.Z,{startIcon:(0,j.jsx)(J.Z,{}),onClick:function(){B(!0)},children:"Edit"}),(0,j.jsx)(L.Z,{startIcon:(0,j.jsx)(E.Z,{}),onClick:function(){return n=e.id,t=e.name,g(s.mh.deleteContact(n)),g((0,P.fu)(n)),F("Contact ".concat(t," is successfully deleted!")),void N();var n,t},children:"Delete"})]}),(0,j.jsx)(X,{contactObj:e,openModal:T,setOpenModal:B,handleClose:H})]})]},e.id)}))})]})}),(0,j.jsx)(O.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:Z.length,rowsPerPage:h,page:t,onPageChange:function(e,n){o(n)},onRowsPerPageChange:function(e){p(parseInt(e.target.value,10)),o(0)}}),(0,j.jsx)(i.Z,{autoHideDuration:1e3,open:v,onClose:y,message:_})]})}function K(){var e=(0,r.I0)();return(0,a.useEffect)((function(){e(s.mh.getAllContacts())})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{text:"Phonebook contacts"}),(0,j.jsx)(Z,{}),(0,j.jsx)(N,{}),(0,j.jsx)(V,{})]})}}}]);
//# sourceMappingURL=649.14b322cc.chunk.js.map