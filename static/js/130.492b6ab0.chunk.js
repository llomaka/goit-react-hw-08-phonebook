"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[130],{8107:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),o=t(885),r=t(2791);function s(){var e=(0,r.useState)({open:!1,message:""}),n=(0,o.Z)(e,2),t=n[0],s=n[1];return{open:t.open,setOpen:function(){return s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!0})}))},message:t.message,setMessage:function(e){return s((function(n){return(0,a.Z)((0,a.Z)({},n),{},{message:e})}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},2130:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var a=t(2791),o=t(5722),r=t(9434),s=t(885);function i(){var e=(0,a.useState)(""),n=(0,s.Z)(e,2),t=n[0],o=n[1],r=(0,a.useState)(""),i=(0,s.Z)(r,2),c=i[0],l=i[1],d=(0,a.useId)(),u=(0,a.useState)(!1),m=(0,s.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:o,number:c,setNumber:l,id:d,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?o(a):"number"===t&&l(a)},resetForm:function(){o(""),l("")}}}var c=t(9860),l=t(9218),d=t(5646),u=t(8107),m=t(2419),h="ContactForm_form__dhl+T",p=t(3329);function g(){var e=i(),n=e.name,t=e.number,a=e.id,s=e.handleInputChange,g=e.resetForm,Z=(0,r.I0)(),f=(0,r.v9)(o.lP.contacts),x=(0,r.v9)(o.lP.isCreating),C=(0,u.Z)(),j=C.open,b=C.message,v=C.setOpen,P=C.setMessage,w=C.handleClose,k=function(e){if(e.preventDefault(),null!==f&&void 0!==f&&f.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return P("".concat(n," is already in Contacts List!")),v();Z(o.mh.createContact({name:n,number:t})),P("".concat(n," is successfully added to Contacts List!")),v(),g()};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{className:h,autoComplete:"on",onSubmit:k,children:[(0,p.jsx)(l.Z,{autoFocus:!0,margin:"dense",id:a+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:s,value:n}),(0,p.jsx)(l.Z,{margin:"dense",id:a+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:s,value:t}),(0,p.jsx)(c.Z,{startIcon:(0,p.jsx)(m.Z,{}),type:"submit",onClick:k,name:"submit_button",variant:"contained",loading:x,children:"Add contact"})]}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:j,onClose:w,message:b})]})}var Z=t(4942),f=t(1538),x=t(4734),C=t(6934),j=t(9836),b=t(3382),v=t(8745),P=t(618),w=t(9281),k=t(6890),y=t(5855),F=t(6812),M=t(703),I=t(4518),N=t(5289),A=t(7123),S=t(9157),_=t(5661),O=t(1286);function z(e){var n=e.contactObj,t=e.openModal,s=e.setOpenModal,m=i(),h=m.name,g=m.setName,Z=m.number,f=m.setNumber,x=m.id,C=m.handleInputChange,j=m.resetForm,b=(0,u.Z)(),v=b.open,P=b.message,w=b.setOpen,k=b.setMessage,y=b.handleClose,F=(0,r.I0)(),M=(0,r.v9)(o.lP.isEditing);(0,a.useEffect)((function(){g(n.name),f(n.number)}),[n,g,f]);var z=function(e){return"edit"!==e.target.name?(s(!1),void j()):h.toLowerCase()===n.name.toLowerCase()&&Z===n.number?(k("Please make changes to contact ".concat(h," information or press Cancel to exit Edit Contact dialog.")),w()):(F(o.mh.editContact({id:n.id,name:h,number:Z})),k("Contact ".concat(h," information is successfully changed!")),w(),j(),void s(!1))};return(0,p.jsxs)(p.Fragment,{children:[h&&(0,p.jsxs)(N.Z,{open:t,onClose:z,children:[(0,p.jsx)(_.Z,{children:"Contact Information"}),(0,p.jsxs)(S.Z,{children:[(0,p.jsx)(l.Z,{autoFocus:!0,margin:"dense",id:x+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:C,value:h}),(0,p.jsx)(l.Z,{margin:"dense",id:x+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:C,value:Z})]}),(0,p.jsxs)(A.Z,{children:[(0,p.jsx)(c.Z,{startIcon:(0,p.jsx)(O.Z,{}),onClick:z,name:"edit",variant:"contained",loading:M,children:"Edit"}),(0,p.jsx)(I.Z,{onClick:z,variant:"contained",children:"Cancel"})]})]}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:v,onClose:y,message:P})]})}var D=t(2199),E=t(7247),L=t(890);function q(e){var n=e.contact,t=e.handleEdit,a=e.handleDelete,s=(0,r.v9)(o.lP.isDeleting);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{component:"th",scope:"row",children:(0,p.jsx)(L.Z,{paragraph:!0,children:n.name})}),(0,p.jsx)(v.Z,{children:(0,p.jsx)(L.Z,{children:n.number})}),(0,p.jsx)(v.Z,{align:"right",children:(0,p.jsxs)(D.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,p.jsx)(I.Z,{startIcon:(0,p.jsx)(O.Z,{}),onClick:function(){return t(n)},variant:"outlined",children:"Edit"}),(0,p.jsx)(c.Z,{startIcon:(0,p.jsx)(E.Z,{}),onClick:function(){return a(n.id,n.name)},variant:"contained",loading:s,children:"Delete"})]})})]})}var J=(0,C.ZP)(v.Z)((function(e){var n,t=e.theme;return n={},(0,Z.Z)(n,"&.".concat(P.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,Z.Z)(n,"&.".concat(P.Z.body),{fontSize:14}),n})),B=(0,C.ZP)(y.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function H(){var e=(0,a.useState)(0),n=(0,s.Z)(e,2),t=n[0],c=n[1],l=(0,a.useState)(10),m=(0,s.Z)(l,2),h=m[0],g=m[1],Z=(0,a.useState)({}),C=(0,s.Z)(Z,2),v=C[0],P=C[1],I=(0,r.v9)(x.S),N=(0,r.v9)(o.lP.contacts),A=(0,a.useMemo)((function(){return N.filter((function(e){return e.name.toLowerCase().includes(I.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[N,I]),S=(0,r.I0)(),_=(0,u.Z)(),O=_.open,D=_.message,E=_.setOpen,L=_.setMessage,H=_.handleClose,W=i(),$=W.openModal,R=W.setOpenModal,T=function(e){P(e),R(!0)},G=function(e,n){S(o.mh.deleteContact(e)),S((0,f.fu)(e)),L("Contact ".concat(n," is successfully deleted!")),E()};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(w.Z,{component:M.Z,children:(0,p.jsxs)(j.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,p.jsx)(k.Z,{children:(0,p.jsxs)(y.Z,{children:[(0,p.jsx)(J,{children:"Full Name"}),(0,p.jsx)(J,{children:"Phone Number"}),(0,p.jsx)(J,{align:"right",children:"Edit/Delete Contact"})]})}),(0,p.jsx)(b.Z,{children:A.slice(t*h,t*h+h).map((function(e){return(0,p.jsx)(B,{children:(0,p.jsx)(q,{contact:e,handleEdit:T,handleDelete:G})},e.id)}))})]})}),(0,p.jsx)(F.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:A.length,rowsPerPage:h,page:t,onPageChange:function(e,n){c(n)},onRowsPerPageChange:function(e){g(parseInt(e.target.value,10)),c(0)}}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:O,onClose:H,message:D}),(0,p.jsx)(z,{contactObj:v,openModal:$,setOpenModal:R})]})}function W(){var e=(0,r.I0)();return(0,a.useEffect)((function(){e(o.mh.getAllContacts())})),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(L.Z,{variant:"h3",component:"h1",align:"center",gutterBottom:!0,mt:2,children:"Phonebook contacts"}),(0,p.jsx)(g,{}),(0,p.jsx)(H,{})]})}}}]);
//# sourceMappingURL=130.492b6ab0.chunk.js.map