"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[509],{8107:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1413),o=t(885),r=t(2791);function s(){var e=(0,r.useState)({open:!1,message:""}),n=(0,o.Z)(e,2),t=n[0],s=n[1];return{open:t.open,message:t.message,setMessage:function(e){return s((function(n){return{open:!0,message:e}}))},handleClose:function(e,n){"clickaway"!==n&&s((function(e){return(0,a.Z)((0,a.Z)({},e),{},{open:!1})}))}}}},6509:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(885),o=t(2791);function r(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],r=n[1],s=(0,o.useState)(""),i=(0,a.Z)(s,2),c=i[0],d=i[1],l=(0,o.useId)(),u=(0,o.useState)(!1),m=(0,a.Z)(u,2),h=m[0],p=m[1];return{name:t,setName:r,number:c,setNumber:d,id:l,openModal:h,setOpenModal:p,handleInputChange:function(e){var n=e.target,t=n.name,a=n.value;"name"===t?r(a):"number"===t&&d(a)},resetForm:function(){r(""),d("")}}}var s=t(9860),i=t(4554),c=t(9218),d=t(5646),l=t(8107),u=t(2419),m=t(6400),h="ContactForm_form__dhl+T",p=t(3329);function Z(){var e=r(),n=e.name,t=e.number,o=e.id,Z=e.handleInputChange,g=e.resetForm,f=(0,l.Z)(),x=f.open,j=f.message,C=f.setMessage,b=f.handleClose,v=(0,m.bC)().data,y=(0,m.wf)(),w=(0,a.Z)(y,2),P=w[0],k=w[1].isLoading,F=function(e){if(e.preventDefault(),null!==v&&void 0!==v&&v.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))return C("".concat(n," is already in Contacts List!"));P({name:n,number:t}),C("".concat(n," is successfully added to Contacts List!")),g()};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(i.Z,{component:"form",className:h,autoComplete:"on",onSubmit:F,children:[(0,p.jsx)(c.Z,{autoFocus:!0,margin:"dense",id:o+"name",label:"Full Name",name:"name",type:"text",variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:Z,value:n}),(0,p.jsx)(c.Z,{margin:"dense",id:o+"number",label:"Phone Number",name:"number",type:"tel",variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:Z,value:t}),(0,p.jsx)(s.Z,{startIcon:(0,p.jsx)(u.Z,{}),type:"submit",onClick:F,name:"submit_button",variant:"contained",loading:k,children:"Add contact"})]}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:x,onClose:b,message:j})]})}var g=t(5048),f=t(105),x=t(9281),j=t(703),C=t(9836),b=t(6890),v=t(5855),y=t(3382),w=t(6812),P=t(4942),k=t(8745),F=t(618),M=t(6934),S=(0,M.ZP)(k.Z)((function(e){var n,t=e.theme;return n={},(0,P.Z)(n,"&.".concat(F.Z.head),{backgroundColor:t.palette.primary.dark,color:t.palette.common.white}),(0,P.Z)(n,"&.".concat(F.Z.body),{fontSize:14}),n})),A=(0,M.ZP)(v.Z)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),I=t(5289),N=t(5661),_=t(9157),z=t(7123),L=t(4518),D=t(1286);function E(e){var n=e.contactObj,t=e.openModal,i=e.setOpenModal,u=r(),h=u.name,Z=u.setName,g=u.number,f=u.setNumber,x=u.id,j=u.handleInputChange,C=u.resetForm,b=(0,l.Z)(),v=b.open,y=b.message,w=b.setMessage,P=b.handleClose,k=(0,m.zP)(),F=(0,a.Z)(k,2),M=F[0],S=F[1].isLoading;(0,o.useEffect)((function(){Z(n.name),f(n.number)}),[n,Z,f]);var A=function(e){return"edit"!==e.target.name?(i(!1),void C()):h.toLowerCase()===n.name.toLowerCase()&&g===n.number?w("Please make changes to contact ".concat(h," information or press Cancel to exit Edit Contact dialog.")):(M({id:n.id,name:h,number:g}),w("Contact ".concat(h," information is successfully changed!")),C(),void i(!1))};return(0,p.jsxs)(p.Fragment,{children:[h&&(0,p.jsxs)(I.Z,{open:t,onClose:A,children:[(0,p.jsx)(N.Z,{children:"Contact Information"}),(0,p.jsxs)(_.Z,{children:[(0,p.jsx)(c.Z,{autoFocus:!0,margin:"dense",id:x+"name",label:"Full Name",name:"name",type:"text",fullWidth:!0,variant:"standard",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"John Smith",onChange:j,value:h}),(0,p.jsx)(c.Z,{margin:"dense",id:x+"number",label:"Phone Number",name:"number",type:"tel",fullWidth:!0,variant:"standard",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"050-123-23-23",onChange:j,value:g})]}),(0,p.jsxs)(z.Z,{children:[(0,p.jsx)(s.Z,{startIcon:(0,p.jsx)(D.Z,{}),onClick:A,name:"edit",variant:"contained",loading:S,children:"Edit"}),(0,p.jsx)(L.Z,{onClick:A,variant:"contained",children:"Cancel"})]})]}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:v,onClose:P,message:y})]})}var O=t(890),W=t(2199),q=t(7247);function B(e){var n=e.contact,t=e.handleEdit,o=e.handleDelete,r=(0,m.W1)(),i=(0,a.Z)(r,2)[1].isLoading;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.Z,{component:"th",scope:"row",children:(0,p.jsx)(O.Z,{children:n.name})}),(0,p.jsx)(k.Z,{children:(0,p.jsx)(O.Z,{children:n.number})}),(0,p.jsx)(k.Z,{align:"right",children:(0,p.jsxs)(W.Z,{variant:"contained","aria-label":"edit/delete contact button group",children:[(0,p.jsx)(L.Z,{startIcon:(0,p.jsx)(D.Z,{}),onClick:function(){return t(n)},variant:"outlined",children:"Edit"}),(0,p.jsx)(s.Z,{startIcon:(0,p.jsx)(q.Z,{}),onClick:function(){return o(n.id,n.name)},variant:"contained",loading:i,children:"Delete"})]})})]})}function J(){var e=(0,o.useState)(0),n=(0,a.Z)(e,2),t=n[0],s=n[1],i=(0,o.useState)(10),c=(0,a.Z)(i,2),u=c[0],h=c[1],Z=(0,o.useState)({}),P=(0,a.Z)(Z,2),k=P[0],F=P[1],M=(0,g.v9)(f.S),I=(0,m.bC)().data,N=void 0===I?[]:I,_=(0,o.useMemo)((function(){return N.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())})).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[N,M]),z=(0,l.Z)(),L=z.open,D=z.message,O=z.setMessage,W=z.handleClose,q=r(),J=q.openModal,H=q.setOpenModal,$=(0,m.W1)(),R=(0,a.Z)($,1)[0],T=(0,g.I0)();(0,o.useEffect)((function(){T(m.ZP.util.resetApiState())}),[T]);var G=function(e){F(e),H(!0)},K=function(e,n){R(e),O("Contact ".concat(n," is successfully deleted!"))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{component:j.Z,children:(0,p.jsxs)(C.Z,{sx:{minWidth:480},"aria-label":"contacts table",size:"small",children:[(0,p.jsx)(b.Z,{children:(0,p.jsxs)(v.Z,{children:[(0,p.jsx)(S,{children:"Full Name"}),(0,p.jsx)(S,{children:"Phone Number"}),(0,p.jsx)(S,{align:"right",children:"Edit/Delete Contact"})]})}),(0,p.jsx)(y.Z,{children:_.slice(t*u,t*u+u).map((function(e){return(0,p.jsx)(A,{children:(0,p.jsx)(B,{contact:e,handleEdit:G,handleDelete:K})},e.id)}))})]})}),(0,p.jsx)(w.Z,{rowsPerPageOptions:[5,10,25,50],component:"div",count:_.length,rowsPerPage:u,page:t,onPageChange:function(e,n){s(n)},onRowsPerPageChange:function(e){h(parseInt(e.target.value,10)),s(0)}}),(0,p.jsx)(d.Z,{autoHideDuration:1e3,open:L,onClose:W,message:D}),(0,p.jsx)(E,{contactObj:k,openModal:J,setOpenModal:H})]})}var H=t(1634),$=t(5095),R=t.n($);function T(){var e=(0,g.v9)(f.S),n=(0,g.I0)(),t=R()((function(e){return n((0,H.M)(e))}),400);return(0,p.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",textAlign:"center",marginBottom:"15px"},children:[(0,p.jsx)(O.Z,{children:"Find contact by name"}),(0,p.jsx)(c.Z,{variant:"standard",type:"text",name:"filter",onChange:function(e){t(e.target.value)},value:e})]})}function G(){return(0,p.jsxs)(i.Z,{children:[(0,p.jsx)(O.Z,{variant:"h3",component:"h1",align:"center",gutterBottom:!0,mt:2,children:"Phonebook contacts"}),(0,p.jsx)(Z,{}),(0,p.jsx)(T,{}),(0,p.jsx)(J,{})]})}}}]);
//# sourceMappingURL=509.3ccfe206.chunk.js.map